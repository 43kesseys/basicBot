(function(){API.getWaitListPosition=function(t){(void 0===t||null===t)&&(t=API.getUser().id);for(var e=API.getWaitList(),n=0;n<e.length;n++)if(e[n].id===t)return n;return-1};var t=function(){clearInterval(c.room.autodisableInterval),clearInterval(c.room.afkInterval),c.status=!1},e=function(){localStorage.setItem("basicBotsettings",JSON.stringify(c.settings)),localStorage.setItem("basicBotRoom",JSON.stringify(c.room));var t={time:Date.now(),stored:!0,version:c.version};localStorage.setItem("basicBotStorageInfo",JSON.stringify(t))},n=function(t,e){if(void 0===t)return API.chatLog("There is a chat text missing."),console.log("There is a chat text missing."),"[Error] No text message found.";var n="%%";for(var i in e)t=t.replace(n+i.toUpperCase()+n,e[i]);return t},i=function(t){t||(t=function(){}),$.get("https://rawgit.com/girr/basicBot/master/lang/langIndex.json",function(e){var n=c.chatLink;null!==e&&void 0!==e?(langIndex=e,n=langIndex[c.settings.language.toLowerCase()],c.settings.chatLink!==c.chatLink?n=c.settings.chatLink:void 0===n&&(n=c.chatLink),$.get(n,function(e){null!==e&&void 0!==e&&("string"==typeof e&&(e=JSON.parse(e)),c.chat=e,t())})):$.get(c.chatLink,function(e){null!==e&&void 0!==e&&("string"==typeof e&&(e=JSON.parse(e)),c.chat=e,t())})})},o=function(){var t=JSON.parse(localStorage.getItem("basicBotsettings"));if(null!==t)for(var e in t)c.settings[e]=t[e]},a=function(){var t=localStorage.getItem("basicBotStorageInfo");if(null===t)API.chatLog(c.chat.nodatafound);else{var e=JSON.parse(localStorage.getItem("basicBotsettings")),n=JSON.parse(localStorage.getItem("basicBotRoom")),i=Date.now()-JSON.parse(t).time;if(36e5>i){API.chatLog(c.chat.retrievingdata);for(var o in e)c.settings[o]=e[o];c.room.users=n.users,c.room.afkList=n.afkList,c.room.historyList=n.historyList,c.room.mutedUsers=n.mutedUsers,c.room.autoskip=n.autoskip,c.room.roomstats=n.roomstats,c.room.messages=n.messages,c.room.queue=n.queue,c.room.newBlacklisted=n.newBlacklisted,API.chatLog(c.chat.datarestored)}}};String.prototype.splitBetween=function(t,e){var n=this;n=this.split(t);for(var i=0;i<n.length;i++)n[i]=n[i].split(e);for(var o=[],i=0;i<n.length;i++)if(Array.isArray(n[i]))for(var a=0;a<n[i].length;a++)o.push(n[i][a]);else o.push(n[i]);return o};var s=function(t){for(var e=t.splitBetween('<a href="',"</a>"),n=1;n<e.length;n+=2){var i=e[n].split('"')[0];e[n]=i}for(var o="",n=0;n<e.length;n++)o+=e[n];return o},r="Matthew (Yemasthui)",u="Benzi (Quoona)",m=["3851534","3934992","4105209"],c={version:"2.2.1",status:!1,name:"basicBot",loggedInID:null,scriptLink:"https://rawgit.com/girr/basicBot/master/basicBot.js",cmdLink:"http://git.io/x2Sw",chatLink:"https://rawgit.com/girr/basicBot/master/lang/en.json",chat:null,loadChat:i,retrieveSettings:o,retrieveFromStorage:a,settings:{botName:"basicBot",language:"english",chatLink:"https://rawgit.com/girr/basicBot/master/lang/en.json",startupCap:1,startupVolume:0,startupEmoji:!1,maximumAfk:120,afkRemoval:!0,maximumDc:60,bouncerPlus:!0,blacklistEnabled:!0,lockdownEnabled:!1,lockGuard:!1,maximumLocktime:10,cycleGuard:!0,maximumCycletime:10,voteSkip:!1,voteSkipLimit:10,timeGuard:!0,maximumSongLength:10,autodisable:!0,commandCooldown:30,usercommandsEnabled:!0,lockskipPosition:3,lockskipReasons:[["theme","This song does not fit the room theme. "],["op","This song is on the OP list. "],["history","This song is in the history. "],["mix","You played a mix, which is against the rules. "],["sound","The song you played had bad sound quality or no sound. "],["nsfw","The song you contained was NSFW (image or sound). "],["unavailable","The song you played was not available for some users. "]],afkpositionCheck:15,afkRankCheck:"ambassador",motdEnabled:!1,motdInterval:5,motd:"Temporary Message of the Day",filterChat:!0,etaRestriction:!1,welcome:!0,opLink:null,rulesLink:null,themeLink:null,fbLink:null,youtubeLink:null,website:null,intervalMessages:[],messageInterval:5,songstats:!0,commandLiteral:"!",blacklists:{NSFW:"https://rawgit.com/Yemasthui/basicBot-customization/master/blacklists/ExampleNSFWlist.json",OP:"https://rawgit.com/Yemasthui/basicBot-customization/master/blacklists/ExampleOPlist.json"}},room:{users:[],afkList:[],mutedUsers:[],bannedUsers:[],skippable:!0,usercommand:!0,allcommand:!0,afkInterval:null,autoskip:!1,autoskipTimer:null,autodisableInterval:null,autodisableFunc:function(){c.status&&c.settings.autodisable&&(API.sendChat("!afkdisable"),API.sendChat("!joindisable"))},queueing:0,queueable:!0,currentDJID:null,historyList:[],cycleTimer:setTimeout(function(){},1),roomstats:{accountName:null,totalWoots:0,totalCurates:0,totalMehs:0,launchTime:null,songCount:0,chatmessages:0},messages:{from:[],to:[],message:[]},queue:{id:[],position:[]},blacklists:{},newBlacklisted:[],newBlacklistedSongFunction:null,roulette:{rouletteStatus:!1,participants:[],countdown:null,startRoulette:function(){c.room.roulette.rouletteStatus=!0,c.room.roulette.countdown=setTimeout(function(){c.room.roulette.endRoulette()},6e4),API.sendChat(c.chat.isopen)},endRoulette:function(){c.room.roulette.rouletteStatus=!1;var t=Math.floor(Math.random()*c.room.roulette.participants.length),e=c.room.roulette.participants[t];c.room.roulette.participants=[];var i=Math.floor(Math.random()*API.getWaitList().length+1),o=c.userUtilities.lookupUser(e),a=o.username;API.sendChat(n(c.chat.winnerpicked,{name:a,position:i})),setTimeout(function(t,e){c.userUtilities.moveUser(t,e,!1)},1e3,e,i)}}},User:function(t,e){this.id=t,this.username=e,this.jointime=Date.now(),this.lastActivity=Date.now(),this.votes={woot:0,meh:0,curate:0},this.lastEta=null,this.afkWarningCount=0,this.afkCountdown=null,this.inRoom=!0,this.isMuted=!1,this.lastDC={time:null,position:null,songCount:0},this.lastKnownPosition=null},userUtilities:{getJointime:function(t){return t.jointime},getUser:function(t){return API.getUser(t.id)},updatePosition:function(t,e){t.lastKnownPosition=e},updateDC:function(t){t.lastDC.time=Date.now(),t.lastDC.position=t.lastKnownPosition,t.lastDC.songCount=c.room.roomstats.songCount},setLastActivity:function(t){t.lastActivity=Date.now(),t.afkWarningCount=0,clearTimeout(t.afkCountdown)},getLastActivity:function(t){return t.lastActivity},getWarningCount:function(t){return t.afkWarningCount},setWarningCount:function(t,e){t.afkWarningCount=e},lookupUser:function(t){for(var e=0;e<c.room.users.length;e++)if(c.room.users[e].id===t)return c.room.users[e];return!1},lookupUserName:function(t){for(var e=0;e<c.room.users.length;e++){var n=c.room.users[e].username.trim()==t.trim();if(n)return c.room.users[e]}return!1},voteRatio:function(t){var e=c.userUtilities.lookupUser(t),n=e.votes;return n.ratio=0===n.meh?1:(n.woot/n.meh).toFixed(2),n},getPermission:function(t){var e;e="object"==typeof t?t:API.getUser(t);for(var n=0;n<m.length;n++)if(m[n].indexOf(e.id)>-1)return 10;if(e.gRole<2)return e.role;switch(e.gRole){case 2:return 7;case 3:return 8;case 4:return 9;case 5:return 10}return 0},moveUser:function(t,e,i){var o=c.userUtilities.lookupUser(t),a=API.getWaitList();if(-1===API.getWaitListPosition(t)){if(!(a.length<50)){for(var s=-1,r=0;r<c.room.queue.id.length;r++)c.room.queue.id[r]===t&&(s=r);if(-1!==s)return c.room.queue.position[s]=e,API.sendChat(n(c.chat.alreadyadding,{position:c.room.queue.position[s]}));c.roomUtilities.booth.lockBooth(),i?(c.room.queue.id.unshift(t),c.room.queue.position.unshift(e)):(c.room.queue.id.push(t),c.room.queue.position.push(e));var u=o.username;return API.sendChat(n(c.chat.adding,{name:u,position:c.room.queue.position.length}))}API.moderateAddDJ(t),0!==e&&setTimeout(function(t,e){API.moderateMoveDJ(t,e)},1250,t,e)}else API.moderateMoveDJ(t,e)},dclookup:function(t){var e=c.userUtilities.lookupUser(t);if("boolean"==typeof e)return c.chat.usernotfound;var i=e.username;if(null===e.lastDC.time)return n(c.chat.notdisconnected,{name:i});var o=e.lastDC.time,a=e.lastDC.position;if(null===a)return c.chat.noposition;var s=Date.now()-o,r=!1;60*c.settings.maximumDc*1e3>s&&(r=!0);var u=c.roomUtilities.msToStr(s);if(!r)return n(c.chat.toolongago,{name:c.userUtilities.getUser(e).username,time:u});for(var m=c.room.roomstats.songCount-e.lastDC.songCount,l=0,d=c.room.afkList,h=0;h<d.length;h++){var g=d[h][1],f=d[h][2];g>o&&a>f&&l++}var v=e.lastDC.position-m-l;0>=v&&(v=1);var k=n(c.chat.valid,{name:c.userUtilities.getUser(e).username,time:u,position:v});return c.userUtilities.moveUser(e.id,v,!0),k}},roomUtilities:{rankToNumber:function(t){var e=null;switch(t){case"admin":e=10;break;case"ambassador":e=7;break;case"host":e=5;break;case"cohost":e=4;break;case"manager":e=3;break;case"bouncer":e=2;break;case"residentdj":e=1;break;case"user":e=0}return e},msToStr:function(t){var e,n,i;return n="",i={days:0,hours:0,minutes:0,seconds:0},e={day:864e5,hour:36e5,minute:6e4,second:1e3},t>e.day&&(i.days=Math.floor(t/e.day),t%=e.day),t>e.hour&&(i.hours=Math.floor(t/e.hour),t%=e.hour),t>e.minute&&(i.minutes=Math.floor(t/e.minute),t%=e.minute),t>e.second&&(i.seconds=Math.floor(t/e.second)),0!==i.days&&(n+=""+i.days+"d"),0!==i.hours&&(n+=""+i.hours+"h"),0!==i.minutes&&(n+=""+i.minutes+"m"),i.minutes<1&&i.hours<1&&i.days<1&&(n+=""+i.seconds+"s"),""!==n?n:!1},booth:{lockTimer:setTimeout(function(){},1e3),locked:!1,lockBooth:function(){API.moderateLockWaitList(!c.roomUtilities.booth.locked),c.roomUtilities.booth.locked=!1,c.settings.lockGuard&&(c.roomUtilities.booth.lockTimer=setTimeout(function(){API.moderateLockWaitList(c.roomUtilities.booth.locked)},60*c.settings.maximumLocktime*1e3))},unlockBooth:function(){API.moderateLockWaitList(c.roomUtilities.booth.locked),clearTimeout(c.roomUtilities.booth.lockTimer)}},afkCheck:function(){if(!c.status||!c.settings.afkRemoval)return void 0;var t=c.roomUtilities.rankToNumber(c.settings.afkRankCheck),e=API.getWaitList(),i=Math.min(e.length,c.settings.afkpositionCheck);if(i-1>e.length)return void 0;for(var o=0;i>o;o++)if(void 0!==e[o]){var a=e[o].id,s=c.userUtilities.lookupUser(a);if("boolean"!=typeof s){var r=c.userUtilities.getUser(s);if(null!==t&&c.userUtilities.getPermission(r)<=t){var u=r.username,m=c.userUtilities.getLastActivity(s),l=Date.now()-m,d=c.roomUtilities.msToStr(l),h=s.afkWarningCount;if(l>60*c.settings.maximumAfk*1e3)if(0===h)API.sendChat(n(c.chat.warning1,{name:u,time:d})),s.afkWarningCount=3,s.afkCountdown=setTimeout(function(t){t.afkWarningCount=1},9e4,s);else if(1===h)API.sendChat(n(c.chat.warning2,{name:u})),s.afkWarningCount=3,s.afkCountdown=setTimeout(function(t){t.afkWarningCount=2},3e4,s);else if(2===h){var g=API.getWaitListPosition(a);-1!==g&&(g++,c.room.afkList.push([a,Date.now(),g]),s.lastDC={time:null,position:null,songCount:0},API.moderateRemoveDJ(a),API.sendChat(n(c.chat.afkremove,{name:u,time:d,position:g,maximumafk:c.settings.maximumAfk}))),s.afkWarningCount=0}}}}},changeDJCycle:function(){var t=$(".cycle-toggle");t.hasClass("disabled")?(t.click(),c.settings.cycleGuard&&(c.room.cycleTimer=setTimeout(function(){t.hasClass("enabled")&&t.click()},60*c.settings.cycleMaxTime*1e3))):(t.click(),clearTimeout(c.room.cycleTimer))},intervalMessage:function(){var t;if(t=c.settings.motdEnabled?c.settings.motdInterval:c.settings.messageInterval,c.room.roomstats.songCount%t===0&&c.status){var e;if(c.settings.motdEnabled)e=c.settings.motd;else{if(0===c.settings.intervalMessages.length)return void 0;var n=c.room.roomstats.songCount%c.settings.intervalMessages.length;e=c.settings.intervalMessages[n]}API.sendChat("/me "+e)}},updateBlacklists:function(){for(var t in c.settings.blacklists)if(c.room.blacklists[t]=[],"function"==typeof c.settings.blacklists[t])c.room.blacklists[t]=c.settings.blacklists();else if("string"==typeof c.settings.blacklists[t]){if(""===c.settings.blacklists[t])continue;try{!function(t){$.get(c.settings.blacklists[t],function(e){"string"==typeof e&&(e=JSON.parse(e));var n=[];for(var i in e)void 0!==e[i].mid&&n.push(e[i].mid);c.room.blacklists[t]=n})}(t)}catch(e){API.chatLog("Error setting"+t+"blacklist."),console.log("Error setting"+t+"blacklist."),console.log(e)}}},logNewBlacklistedSongs:function(){void 0!==console.table?console.table(c.room.newBlacklisted):console.log(c.room.newBlacklisted)},exportNewBlacklistedSongs:function(){for(var t={},e=0;e<c.room.newBlacklisted.length;e++){var n=c.room.newBlacklisted[e];t[n.list]=[],t[n.list].push({title:n.title,author:n.author,mid:n.mid})}return t}},eventChat:function(t){t.message=s(t.message),t.message=t.message.trim();for(var e=0;e<c.room.users.length;e++)c.room.users[e].id===t.uid&&(c.userUtilities.setLastActivity(c.room.users[e]),c.room.users[e].username!==t.un&&(c.room.users[e].username=t.un));return c.chatUtilities.chatFilter(t)?void 0:void(c.chatUtilities.commandCheck(t)||c.chatUtilities.action(t))},eventUserjoin:function(t){for(var e=!1,i=null,o=0;o<c.room.users.length;o++)c.room.users[o].id===t.id&&(e=!0,i=o);var a=!0,s=null;if(e){c.room.users[i].inRoom=!0;var r=c.userUtilities.lookupUser(t.id),u=r.jointime,m=Date.now()-u;1e4>m?a=!1:s=!0}else c.room.users.push(new c.User(t.id,t.username)),s=!1;for(var l=0;l<c.room.users.length;l++)c.userUtilities.getUser(c.room.users[l]).id===t.id&&(c.userUtilities.setLastActivity(c.room.users[l]),c.room.users[l].jointime=Date.now());c.settings.welcome&&a&&(s?setTimeout(function(t){API.sendChat(n(c.chat.welcomeback,{name:t.username}))},1e3,t):setTimeout(function(t){API.sendChat(n(c.chat.welcome,{name:t.username}))},1e3,t))},eventUserleave:function(t){for(var e=0;e<c.room.users.length;e++)c.room.users[e].id===t.id&&(c.userUtilities.updateDC(c.room.users[e]),c.room.users[e].inRoom=!1)},eventVoteupdate:function(t){for(var e=0;e<c.room.users.length;e++)c.room.users[e].id===t.user.id&&(1===t.vote?c.room.users[e].votes.woot++:c.room.users[e].votes.meh++);var i=API.getScore().negative,o=API.getScore().positive,a=API.getDJ();c.settings.voteSkip&&i-o>=c.settings.voteSkipLimit&&(API.sendChat(n(c.chat.voteskipexceededlimit,{name:a.username,limit:c.settings.voteSkipLimit})),API.moderateForceSkip())},eventCurateupdate:function(t){for(var e=0;e<c.room.users.length;e++)c.room.users[e].id===t.user.id&&c.room.users[e].votes.curate++},eventDjadvance:function(t){$("#woot").click();for(var i=c.userUtilities.lookupUser(t.dj.id),o=0;o<c.room.users.length;o++)c.room.users[o].id===i.id&&(c.room.users[o].lastDC={time:null,position:null,songCount:0});var a=t.lastPlay;if(void 0!==a){c.settings.songstats&&API.sendChat(void 0===c.chat.songstatistics?"/me "+a.media.author+" - "+a.media.title+": "+a.score.positive+"W/"+a.score.grabs+"G/"+a.score.negative+"M.":n(c.chat.songstatistics,{artist:a.media.author,title:a.media.title,woots:a.score.positive,grabs:a.score.grabs,mehs:a.score.negative})),c.room.roomstats.totalWoots+=a.score.positive,c.room.roomstats.totalMehs+=a.score.negative,c.room.roomstats.totalCurates+=a.score.grabs,c.room.roomstats.songCount++,c.roomUtilities.intervalMessage(),c.room.currentDJID=t.dj.id;var s=t.media.format+":"+t.media.cid;for(var r in c.room.blacklists)if(c.settings.blacklistEnabled&&c.room.blacklists[r].indexOf(s)>-1)return API.sendChat(n(c.chat.isblacklisted,{blacklist:r})),API.moderateForceSkip();for(var u=!1,o=0;o<c.room.historyList.length;o++)if(c.room.historyList[o][0]===t.media.cid){var m=c.room.historyList[o][1],l=c.room.historyList[o].length-1,d=c.room.historyList[o][l];API.sendChat(n(c.chat.songknown,{plays:l,timetotal:c.roomUtilities.msToStr(Date.now()-m),lasttime:c.roomUtilities.msToStr(Date.now()-d)})),c.room.historyList[o].push(+new Date),u=!0}u||c.room.historyList.push([t.media.cid,+new Date]);var h=t.media;if(c.settings.timeGuard&&h.duration>60*c.settings.maximumSongLength&&!c.room.roomevent){var g=t.dj.username;API.sendChat(n(c.chat.timelimit,{name:g,maxlength:c.settings.maximumSongLength})),API.moderateForceSkip()}if(i.ownSong&&(API.sendChat(n(c.chat.permissionownsong,{name:i.username})),i.ownSong=!1),clearTimeout(c.room.autoskipTimer),c.room.autoskip){var f=1e3*t.media.duration;c.room.autoskipTimer=setTimeout(function(){console.log("Skipping track."),API.moderateForceSkip()},f+3e3)}e()}},eventWaitlistupdate:function(t){if(t.length<50&&c.room.queue.id.length>0&&c.room.queueable){c.room.queueable=!1,setTimeout(function(){c.room.queueable=!0},500),c.room.queueing++;var e,n;setTimeout(function(){e=c.room.queue.id.splice(0,1)[0],n=c.room.queue.position.splice(0,1)[0],API.moderateAddDJ(e,n),setTimeout(function(t,e){API.moderateMoveDJ(t,e),c.room.queueing--,0===c.room.queue.id.length&&setTimeout(function(){c.roomUtilities.booth.unlockBooth()},1e3)},1e3,e,n)},1e3+2500*c.room.queueing)}for(var i=0;i<t.length;i++){var o=c.userUtilities.lookupUser(t[i].id);c.userUtilities.updatePosition(o,API.getWaitListPosition(t[i].id)+1)}},chatcleaner:function(t){if(!c.settings.filterChat)return!1;if(c.userUtilities.getPermission(t.uid)>1)return!1;for(var e=t.message,i=!1,o=0;o<e.length;o++)a=e.charAt(o),(a>="a"&&"z">=a||a>="A"&&"Z">=a||a>="0"&&"9">=a||":"===a||"^"===a)&&(i=!0);if(""===e)return!0;if(!i&&(1===e.length||e.length>3))return!0;e=e.replace(/[ ,;.:\/=~+%^*\-\\"'&@#]/g,"");for(var a,s=0,o=0;o<e.length;o++)a=e.charAt(o),a>="A"&&"Z">=a&&s++;if(s>=40)return API.sendChat(n(c.chat.caps,{name:t.un})),!0;if(e=e.toLowerCase(),"skip"===e)return API.sendChat(n(c.chat.askskip,{name:t.un})),!0;for(var r=0;r<c.chatUtilities.spam.length;r++)if(e===c.chatUtilities.spam[r])return API.sendChat(n(c.chat.spam,{name:t.un})),!0;return!1},chatUtilities:{chatFilter:function(t){for(var e=t.message,i=c.userUtilities.getPermission(t.uid),o=(c.userUtilities.lookupUser(t.uid),!1),a=0;a<c.room.mutedUsers.length;a++)c.room.mutedUsers[a]===t.uid&&(o=!0);if(o)return API.moderateDeleteChat(t.cid),!0;if(c.settings.lockdownEnabled&&0===i)return API.moderateDeleteChat(t.cid),!0;if(c.chatcleaner(t))return API.moderateDeleteChat(t.cid),!0;if(e.indexOf("http://adf.ly/")>-1)return API.moderateDeleteChat(t.cid),API.sendChat(n(c.chat.adfly,{name:t.un})),!0;if(e.indexOf("autojoin was not enabled")>0||e.indexOf("AFK message was not enabled")>0||e.indexOf("!afkdisable")>0||e.indexOf("!joindisable")>0||e.indexOf("autojoin disabled")>0||e.indexOf("AFK message disabled")>0)return API.moderateDeleteChat(t.cid),!0;var s=c.chat.roulettejoin,r=c.chat.rouletteleave,u=s.split("%%NAME%%");u=u[1].length>u[0].length?u[1]:u[0];var m=r.split("%%NAME%%");return m=m[1].length>m[0].length?m[1]:m[0],(e.indexOf(u)>-1||e.indexOf(m)>-1)&&t.uid===c.loggedInID?(setTimeout(function(t){API.moderateDeleteChat(t)},2e3,t.cid),!0):!1},commandCheck:function(t){var e;if("!"!==t.message.charAt(0))return!1;var n=t.message.indexOf(" ");e=-1===n?t.message:t.message.substring(0,n);var i=c.userUtilities.getPermission(t.uid);if("!join"!==t.message&&"!leave"!==t.message){if(0===i&&!c.room.usercommand)return void 0;if(!c.room.allcommand)return void 0}if("!eta"===t.message&&c.settings.etaRestriction&&2>i){var o=c.userUtilities.lookupUser(t.uid);if(null!==o.lastEta&&Date.now()-o.lastEta<36e5)return void API.moderateDeleteChat(t.cid);o.lastEta=Date.now()}var a=!1;for(var s in c.commands){var r=c.commands[s].command;Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++)if(c.settings.commandLiteral+r[u]===e){c.commands[s].functionality(t,c.settings.commandLiteral+r[u]),a=!0;break}}return a&&0===i&&(c.room.usercommand=!1,setTimeout(function(){c.room.usercommand=!0},1e3*c.settings.commandCooldown)),a&&(API.moderateDeleteChat(t.cid),c.room.allcommand=!1,setTimeout(function(){c.room.allcommand=!0},5e3)),a},action:function(t){c.userUtilities.lookupUser(t.uid);if("message"===t.type)for(var e=0;e<c.room.users.length;e++)c.userUtilities.getUser(c.room.users[e]).id===t.uid&&c.userUtilities.setLastActivity(c.room.users[e]);c.room.roomstats.chatmessages++},spam:["hueh","hu3","brbr","heu","brbr","kkkk","spoder","mafia","zuera","zueira","zueria","aehoo","aheu","alguem","algum","brazil","zoeira","fuckadmins","affff","vaisefoder","huenaarea","hitler","ashua","ahsu","ashau","lulz","huehue","hue","huehuehue","merda","pqp","puta","mulher","pula","retarda","caralho","filha","ppk","gringo","fuder","foder","hua","ahue","modafuka","modafoka","mudafuka","mudafoka","ooooooooooooooo","foda"],curses:["nigger","faggot","nigga","niqqa","motherfucker","modafocka"]},connectAPI:function(){this.proxy={eventChat:$.proxy(this.eventChat,this),eventUserskip:$.proxy(this.eventUserskip,this),eventUserjoin:$.proxy(this.eventUserjoin,this),eventUserleave:$.proxy(this.eventUserleave,this),eventUserfan:$.proxy(this.eventUserfan,this),eventFriendjoin:$.proxy(this.eventFriendjoin,this),eventFanjoin:$.proxy(this.eventFanjoin,this),eventVoteupdate:$.proxy(this.eventVoteupdate,this),eventCurateupdate:$.proxy(this.eventCurateupdate,this),eventRoomscoreupdate:$.proxy(this.eventRoomscoreupdate,this),eventDjadvance:$.proxy(this.eventDjadvance,this),eventDjupdate:$.proxy(this.eventDjupdate,this),eventWaitlistupdate:$.proxy(this.eventWaitlistupdate,this),eventVoteskip:$.proxy(this.eventVoteskip,this),eventModskip:$.proxy(this.eventModskip,this),eventChatcommand:$.proxy(this.eventChatcommand,this),eventHistoryupdate:$.proxy(this.eventHistoryupdate,this)},API.on(API.CHAT,this.proxy.eventChat),API.on(API.USER_SKIP,this.proxy.eventUserskip),API.on(API.USER_JOIN,this.proxy.eventUserjoin),API.on(API.USER_LEAVE,this.proxy.eventUserleave),API.on(API.USER_FAN,this.proxy.eventUserfan),API.on(API.VOTE_UPDATE,this.proxy.eventVoteupdate),API.on(API.GRAB_UPDATE,this.proxy.eventCurateupdate),API.on(API.ROOM_SCORE_UPDATE,this.proxy.eventRoomscoreupdate),API.on(API.ADVANCE,this.proxy.eventDjadvance),API.on(API.WAIT_LIST_UPDATE,this.proxy.eventWaitlistupdate),API.on(API.MOD_SKIP,this.proxy.eventModskip),API.on(API.CHAT_COMMAND,this.proxy.eventChatcommand),API.on(API.HISTORY_UPDATE,this.proxy.eventHistoryupdate)},disconnectAPI:function(){API.off(API.CHAT,this.proxy.eventChat),API.off(API.USER_SKIP,this.proxy.eventUserskip),API.off(API.USER_JOIN,this.proxy.eventUserjoin),API.off(API.USER_LEAVE,this.proxy.eventUserleave),API.off(API.USER_FAN,this.proxy.eventUserfan),API.off(API.VOTE_UPDATE,this.proxy.eventVoteupdate),API.off(API.CURATE_UPDATE,this.proxy.eventCurateupdate),API.off(API.ROOM_SCORE_UPDATE,this.proxy.eventRoomscoreupdate),API.off(API.ADVANCE,this.proxy.eventDjadvance),API.off(API.WAIT_LIST_UPDATE,this.proxy.eventWaitlistupdate),API.off(API.MOD_SKIP,this.proxy.eventModskip),API.off(API.CHAT_COMMAND,this.proxy.eventChatcommand),API.off(API.HISTORY_UPDATE,this.proxy.eventHistoryupdate)},startup:function(){Function.prototype.toString=function(){return"Function."};var t=API.getUser();if(c.userUtilities.getPermission(t)<2)return API.chatLog(c.chat.greyuser);2===c.userUtilities.getPermission(t)&&API.chatLog(c.chat.bouncer),c.connectAPI(),API.moderateDeleteChat=function(t){$.ajax({url:"https://plug.dj/_/chat/"+t,type:"DELETE"})},o(),a(),window.bot=c,c.roomUtilities.updateBlacklists(),setInterval(c.roomUtilities.updateBlacklists,36e5),c.getNewBlacklistedSongs=c.roomUtilities.exportNewBlacklistedSongs,c.logNewBlacklistedSongs=c.roomUtilities.logNewBlacklistedSongs,null===c.room.roomstats.launchTime&&(c.room.roomstats.launchTime=Date.now());for(var e=0;e<c.room.users.length;e++)c.room.users[e].inRoom=!1;for(var s=API.getUsers(),r=0;r<s.length;r++){for(var u=!1,m=null,e=0;e<c.room.users.length;e++)c.room.users[e].id===s[r].id&&(u=!0,m=e);u?c.room.users[m].inRoom=!0:(c.room.users.push(new c.User(s[r].id,s[r].username)),m=c.room.users.length-1);var l=API.getWaitListPosition(c.room.users[m].id)+1;c.userUtilities.updatePosition(c.room.users[m],l)}if(c.room.afkInterval=setInterval(function(){c.roomUtilities.afkCheck()},1e4),c.room.autodisableInterval=setInterval(function(){c.room.autodisableFunc()},36e5),c.loggedInID=API.getUser().id,c.status=!0,API.sendChat("/cap "+c.settings.startupCap),API.setVolume(c.settings.startupVolume),$("#woot").click(),c.settings.startupEmoji){var d=$(".icon-emoji-off");d.length>0&&d[0].click(),API.chatLog(":smile: Emojis enabled.")}else{var h=$(".icon-emoji-on");h.length>0&&h[0].click(),API.chatLog("Emojis disabled.")}API.chatLog("Avatars capped at "+c.settings.startupCap),API.chatLog("Volume set to "+c.settings.startupVolume),i(API.sendChat(n(c.chat.online,{botname:c.settings.botName,version:c.version})))},commands:{executable:function(t,e){var n,i=e.uid,o=c.userUtilities.getPermission(i);switch(t){case"admin":n=10;break;case"ambassador":n=7;break;case"host":n=5;break;case"cohost":n=4;break;case"manager":n=3;break;case"mod":n=c.settings.bouncerPlus?2:3;break;case"bouncer":n=2;break;case"residentdj":n=1;break;case"user":n=0;break;default:API.chatLog("error assigning minimum permission")}return o>=n},activeCommand:{command:"active",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i,o=t.message,a=Date.now(),s=0;if(o.length===e.length)i=60;else if(i=o.substring(e.length+1),isNaN(i))return API.sendChat(n(c.chat.invalidtime,{name:t.un}));for(var r=0;r<c.room.users.length;r++)userTime=c.userUtilities.getLastActivity(c.room.users[r]),a-userTime<=60*i*1e3&&s++;API.sendChat(n(c.chat.activeusersintime,{name:t.un,amount:s,time:i}))}},addCommand:{command:"add",rank:"mod",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nouserspecified,{name:t.un}));var o=i.substr(e.length+2),a=c.userUtilities.lookupUserName(o);i.length>e.length+2&&(void 0!==a?(c.room.roomevent&&c.room.eventArtists.push(a.id),API.moderateAddDJ(a.id)):API.sendChat(n(c.chat.invaliduserspecified,{name:t.un})))}},afklimitCommand:{command:"afklimit",rank:"manager",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nolimitspecified,{name:t.un}));var o=i.substring(e.length+1);isNaN(o)?API.sendChat(n(c.chat.invalidlimitspecified,{name:t.un})):(c.settings.maximumAfk=parseInt(o,10),API.sendChat(n(c.chat.maximumafktimeset,{name:t.un,time:c.settings.maximumAfk})))}},afkremovalCommand:{command:"afkremoval",rank:"mod",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void(c.settings.afkRemoval?(c.settings.afkRemoval=!c.settings.afkRemoval,clearInterval(c.room.afkInterval),API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.afkremoval}))):(c.settings.afkRemoval=!c.settings.afkRemoval,c.room.afkInterval=setInterval(function(){c.roomUtilities.afkCheck()},2e3),API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.afkremoval})))):void 0}},afkresetCommand:{command:"afkreset",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nouserspecified,{name:t.un}));var o=i.substring(e.length+2),a=c.userUtilities.lookupUserName(o);return"boolean"==typeof a?API.sendChat(n(c.chat.invaliduserspecified,{name:t.un})):(c.userUtilities.setLastActivity(a),void API.sendChat(n(c.chat.afkstatusreset,{name:t.un,username:o})))}},afktimeCommand:{command:"afktime",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nouserspecified,{name:t.un}));var o=i.substring(e.length+2),a=c.userUtilities.lookupUserName(o);if("boolean"==typeof a)return API.sendChat(n(c.chat.invaliduserspecified,{name:t.un}));var s=c.userUtilities.getLastActivity(a),r=Date.now()-s,u=c.roomUtilities.msToStr(r);API.sendChat(n(c.chat.inactivefor,{name:t.un,username:o,time:u}))}},autodisableCommand:{command:"autodisable",rank:"bouncer",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?c.settings.autodisable?(c.settings.autodisable=!c.settings.autodisable,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.autodisable}))):(c.settings.autodisable=!c.settings.autodisable,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.autodisable}))):void 0}},autoskipCommand:{command:"autoskip",rank:"mod",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?c.room.autoskip?(c.room.autoskip=!c.room.autoskip,clearTimeout(c.room.autoskipTimer),API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.autoskip}))):(c.room.autoskip=!c.room.autoskip,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.autoskip}))):void 0}},autowootCommand:{command:"autowoot",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void API.sendChat(c.chat.autowoot):void 0}},baCommand:{command:"ba",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void API.sendChat(c.chat.brandambassador):void 0}},banCommand:{command:"ban",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nouserspecified,{name:t.un}));var o=i.substr(e.length+2),a=c.userUtilities.lookupUserName(o);return"boolean"==typeof a?API.sendChat(n(c.chat.invaliduserspecified,{name:t.un})):void API.moderateBanUser(a.id,1,API.BAN.DAY)}},blacklistCommand:{command:["blacklist","bl"],rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nolistspecified,{name:t.un}));var o=i.substr(e.length+1);if(void 0===c.room.blacklists[o])return API.sendChat(n(c.chat.invalidlistspecified,{name:t.un}));var a=API.getMedia(),s={list:o,author:a.author,title:a.title,mid:a.format+":"+a.cid};c.room.newBlacklisted.push(s),c.room.blacklists[o].push(a.format+":"+a.cid),API.sendChat(n(c.chat.newblacklisted,{name:t.un,blacklist:o,author:a.author,title:a.title,mid:a.format+":"+a.cid})),API.moderateForceSkip(),"function"==typeof c.room.newBlacklistedSongFunction&&c.room.newBlacklistedSongFunction(s)}},blinfoCommand:{command:"blinfo",rank:"bouncer",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=API.getMedia().author,o=API.getMedia().title,a=t.un,s=API.getMedia().format,r=API.getMedia().cid,u=s+":"+r;API.sendChat(n(c.chat.blinfo,{name:a,author:i,title:o,songid:u}))}},bouncerPlusCommand:{command:"bouncer+",rank:"mod",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;t.message;if(c.settings.bouncerPlus)return c.settings.bouncerPlus=!1,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":"Bouncer+"}));if(c.settings.bouncerPlus)return API.sendChat(n(c.chat.bouncerplusrank,{name:t.un}));var i=t.uid,o=c.userUtilities.getPermission(i);return o>2?(c.settings.bouncerPlus=!0,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":"Bouncer+"}))):void 0}},clearchatCommand:{command:"clearchat",rank:"manager",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){for(var i=$("#chat-messages").children(),o=0;o<i.length;o++)API.moderateDeleteChat(i[o].getAttribute("data-cid"));return API.sendChat(n(c.chat.chatcleared,{name:t.un}))}return void 0
}},commandsCommand:{command:"commands",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void API.sendChat(n(c.chat.commandslink,{botname:c.settings.botName,link:c.cmdLink})):void 0}},cookieCommand:{command:"cookie",rank:"user",type:"startsWith",cookies:["has given you a chocolate chip cookie! :D","has given you a soft homemade oatmeal cookie! :D","has given you a chocolate chip cookie that appears to be covered in semen.","gives you a sugar cookie. What, no frosting and sprinkles? 0/10 would not devour.","gives you a chocolate chip cookie. Oh wait, those are raisins. Bleck!","gives you an enormous cookie. Poking it gives you more cookies. Weird.",'gives you a fortune cookie. It reads "Do you even yiff?"','gives you a fortune cookie. It reads "Give that special someone a dick in their ass."','gives you a fortune cookie. It reads "Go have a wank!"','gives you a fortune cookie. It reads "Go outside."','gives you a fortune cookie. It reads "Don\'t forget to eat your veggies!"','gives you a fortune cookie. It reads "Ayy lmao."','gives you a fortune cookie. It reads "I\'M THE SHIT!"','gives you a fortune cookie. It reads "If you move your hips, you\'ll get all the vixens."','gives you a fortune cookie. It reads "I love you." <3',"is all out of cookies. What a tease.","gives you an Oreo cookie with a glass of milk!","gives you a gay rainbow cookie made with love :heart:","gives you an old cookie that was left out in the rain, it's moldy.","bakes you fresh cookies, they smell pretty nice."],getCookie:function(){var t=Math.floor(Math.random()*this.cookies.length);return this.cookies[t]},functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){var i=t.message,o=i.indexOf(" ");if(-1===o)return API.sendChat(c.chat.eatcookie),!1;var a=i.substring(o+2),s=c.userUtilities.lookupUserName(a);return API.sendChat(s!==!1&&s.inRoom?s.username===t.un?n(c.chat.selfcookie,{name:a}):n(c.chat.cookie,{nameto:s.username,namefrom:t.un,cookie:this.getCookie()}):n(c.chat.nousercookie,{name:a}))}return void 0}},cuddleCommand:{command:"cuddle",rank:"user",type:"startsWith",cuddles:["cuddles you as well as a roboserg can! <3","nuzzles up to you for cuddles!","activates cuddle mode and targets you.","invades your personal space and gropes you inappropriately!","glomps onto your side and steals a snuggle. Oof, heavy bot.","cuddles lovingly, kissing your neck~ ;3","sprawls out across your lap and begs for tummy rubs."],getCuddle:function(){var t=Math.floor(Math.random()*this.cuddles.length);return this.cuddles[t]},functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){var i=t.message,o=i.indexOf(" ");if(-1===o)return API.sendChat(c.chat.givecuddle),!1;var a=i.substring(o+2),s=c.userUtilities.lookupUserName(a);return API.sendChat(s!==!1&&s.inRoom?s.username===t.un?n(c.chat.selfcuddle,{name:a}):n(c.chat.cuddle,{nameto:s.username,namefrom:t.un,cuddle:this.getCuddle()}):n(c.chat.nousercuddle,{name:a}))}return void 0}},cycleCommand:{command:"cycle",rank:"manager",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void c.roomUtilities.changeDJCycle():void 0}},cycleguardCommand:{command:"cycleguard",rank:"bouncer",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?c.settings.cycleGuard?(c.settings.cycleGuard=!c.settings.cycleGuard,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.cycleguard}))):(c.settings.cycleGuard=!c.settings.cycleGuard,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.cycleguard}))):void 0}},cycletimerCommand:{command:"cycletimer",rank:"manager",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){var i=t.message,o=i.substring(e.length+1);return isNaN(o)||""===o?API.sendChat(n(c.chat.invalidtime,{name:t.un})):(c.settings.maximumCycletime=o,API.sendChat(n(c.chat.cycleguardtime,{name:t.un,time:c.settings.maximumCycletime})))}return void 0}},voteskipCommand:{command:"voteskip",rank:"manager",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length<=e.length+1)return API.sendChat(n(c.chat.voteskiplimit,{name:t.un,limit:c.settings.voteSkipLimit}));var o=i.substring(e.length+1);c.settings.voteSkip||(c.settings.voteSkip=!c.settings.voteSkip),isNaN(o)?API.sendChat(n(c.chat.voteskipinvalidlimit,{name:t.un})):(c.settings.voteSkipLimit=o,API.sendChat(n(c.chat.voteskipsetlimit,{name:t.un,limit:c.settings.voteSkipLimit})))}},togglevoteskipCommand:{command:"togglevoteskip",rank:"bouncer",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void(c.settings.voteSkip?(c.settings.voteSkip=!c.settings.voteSkip,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.voteskip}))):(c.settings.motdEnabled=!c.settings.motdEnabled,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.voteskip})))):void 0}},dclookupCommand:{command:["dclookup","dc"],rank:"user",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i,o=t.message;if(o.length===e.length)i=t.un;else{i=o.substring(e.length+2);var a=c.userUtilities.getPermission(t.uid);if(2>a)return API.sendChat(n(c.chat.dclookuprank,{name:t.un}))}var s=c.userUtilities.lookupUserName(i);if("boolean"==typeof s)return API.sendChat(n(c.chat.invaliduserspecified,{name:t.un}));var r=c.userUtilities.dclookup(s.id);API.sendChat(r)}},emojiCommand:{command:"emoji",rank:"user",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i="http://www.emoji-cheat-sheet.com/";API.sendChat(n(c.chat.emojilist,{link:i}))}},etaCommand:{command:"eta",rank:"user",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i,o=c.userUtilities.getPermission(t.uid),a=t.message;if(a.length>e.length){if(2>o)return void 0;i=a.substring(e.length+2)}else i=t.un;var s=c.userUtilities.lookupUserName(i);if("boolean"==typeof s)return API.sendChat(n(c.chat.invaliduserspecified,{name:t.un}));var r=API.getWaitListPosition(s.id);if(0>r)return API.sendChat(n(c.chat.notinwaitlist,{name:i}));var u=API.getTimeRemaining(),m=1e3*(4*(r+1)*60+u),l=c.roomUtilities.msToStr(m);API.sendChat(n(c.chat.eta,{name:i,time:l}))}},fbCommand:{command:"fb",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void("string"==typeof c.settings.fbLink&&API.sendChat(n(c.chat.facebook,{link:c.settings.fbLink}))):void 0}},filterCommand:{command:"filter",rank:"bouncer",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?c.settings.filterChat?(c.settings.filterChat=!c.settings.filterChat,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.chatfilter}))):(c.settings.filterChat=!c.settings.filterChat,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.chatfilter}))):void 0}},helpCommand:{command:"help",rank:"user",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i="http://i.imgur.com/SBAso1N.jpg";API.sendChat(n(c.chat.starterhelp,{link:i}))}},joinCommand:{command:"join",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void(c.room.roulette.rouletteStatus&&c.room.roulette.participants.indexOf(t.uid)<0&&(c.room.roulette.participants.push(t.uid),API.sendChat(n(c.chat.roulettejoin,{name:t.un})))):void 0}},jointimeCommand:{command:"jointime",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nouserspecified,{name:t.un}));var o=i.substring(e.length+2),a=c.userUtilities.lookupUserName(o);if("boolean"==typeof a)return API.sendChat(n(c.chat.invaliduserspecified,{name:t.un}));var s=c.userUtilities.getJointime(a),r=Date.now()-s,u=c.roomUtilities.msToStr(r);API.sendChat(n(c.chat.jointime,{namefrom:t.un,username:o,time:u}))}},kickCommand:{command:"kick",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i,o,a=t.message,s=a.lastIndexOf(" ");s===a.indexOf(" ")?(i=.25,o=a.substring(e.length+2)):(i=a.substring(s+1),o=a.substring(e.length+2,s));{var r=c.userUtilities.lookupUserName(o);t.un}if("boolean"==typeof r)return API.sendChat(n(c.chat.nouserspecified,{name:t.un}));var u=c.userUtilities.getPermission(t.uid),m=c.userUtilities.getPermission(r.id);return m>=u?API.sendChat(n(c.chat.kickrank,{name:t.un})):void(isNaN(i)?API.sendChat(n(c.chat.invalidtime,{name:t.un})):(API.sendChat(n(c.chat.kick,{name:t.un,username:o,time:i})),i>86400?API.moderateBanUser(r.id,1,API.BAN.PERMA):API.moderateBanUser(r.id,1,API.BAN.DAY),setTimeout(function(t,e){API.moderateUnbanUser(t),console.log("Unbanned @"+e+". ("+t+")")},60*i*1e3,r.id,o)))}},killCommand:{command:"kill",rank:"bouncer",type:"exact",functionality:function(n,i){return"exact"===this.type&&n.message.length!==i.length?void 0:c.commands.executable(this.rank,n)?(e(),API.sendChat(c.chat.kill),c.disconnectAPI(),setTimeout(function(){t()},1e3),void 0):void 0}},leaveCommand:{command:"leave",rank:"user",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=c.room.roulette.participants.indexOf(t.uid);i>-1&&(c.room.roulette.participants.splice(i,1),API.sendChat(n(c.chat.rouletteleave,{name:t.un})))}},linkCommand:{command:"link",rank:"user",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=API.getMedia(),o=t.un,a=(c.userUtilities.lookupUser(t.uid),c.userUtilities.getPermission(t.uid)),s=API.getDJ().id,r=!1;if(s===t.uid&&(r=!0),a>=1||r){if(1===i.format){var u="https://www.youtube.com/watch?v="+i.cid;API.sendChat(n(c.chat.songlink,{name:o,link:u}))}2===i.format&&SC.get("/tracks/"+i.cid,function(t){API.sendChat(n(c.chat.songlink,{name:o,link:t.permalink_url}))})}}},lockCommand:{command:"lock",rank:"mod",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void c.roomUtilities.booth.lockBooth():void 0}},lockdownCommand:{command:"lockdown",rank:"mod",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){var i=c.settings.lockdownEnabled;return c.settings.lockdownEnabled=!i,API.sendChat(c.settings.lockdownEnabled?n(c.chat.toggleon,{name:t.un,"function":c.chat.lockdown}):n(c.chat.toggleoff,{name:t.un,"function":c.chat.lockdown}))}return void 0}},lockguardCommand:{command:"lockguard",rank:"bouncer",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?c.settings.lockGuard?(c.settings.lockGuard=!c.settings.lockGuard,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.lockdown}))):(c.settings.lockGuard=!c.settings.lockGuard,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.lockguard}))):void 0}},lockskipCommand:{command:"lockskip",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;if(c.room.skippable){var i=API.getDJ(),o=i.id,a=i.username,s="@"+a+": ";if(c.room.queueable=!1,t.message.length===e.length)return API.sendChat(n(c.chat.usedlockskip,{name:t.un})),c.roomUtilities.booth.lockBooth(),void setTimeout(function(t){API.moderateForceSkip(),c.room.skippable=!1,setTimeout(function(){c.room.skippable=!0},5e3),setTimeout(function(t){c.userUtilities.moveUser(t,c.settings.lockskipPosition,!1),c.room.queueable=!0,setTimeout(function(){c.roomUtilities.booth.unlockBooth()},1e3)},1500,t)},1e3,o);for(var r=!1,u=t.message,m=u.substring(e.length+1),l=0;l<c.settings.lockskipReasons.length;l++){var d=c.settings.lockskipReasons[l][0];-1!==m.indexOf(d)&&(r=!0,s+=c.settings.lockskipReasons[l][1])}if(r)return API.sendChat(n(c.chat.usedlockskip,{name:t.un})),c.roomUtilities.booth.lockBooth(),void setTimeout(function(t){API.moderateForceSkip(),c.room.skippable=!1,API.sendChat(s),setTimeout(function(){c.room.skippable=!0},5e3),setTimeout(function(t){c.userUtilities.moveUser(t,c.settings.lockskipPosition,!1),c.room.queueable=!0,setTimeout(function(){c.roomUtilities.booth.unlockBooth()},1e3)},1500,t)},1e3,o)}}},lockskipposCommand:{command:"lockskippos",rank:"manager",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){var i=t.message,o=i.substring(e.length+1);return isNaN(o)?API.sendChat(n(c.chat.invalidpositionspecified,{name:t.un})):(c.settings.lockskipPosition=o,API.sendChat(n(c.chat.lockskippos,{name:t.un,position:c.settings.lockskipPosition})))}return void 0}},locktimerCommand:{command:"locktimer",rank:"manager",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){var i=t.message,o=i.substring(e.length+1);return isNaN(o)||""===o?API.sendChat(n(c.chat.invalidtime,{name:t.un})):(c.settings.maximumLocktime=o,API.sendChat(n(c.chat.lockguardtime,{name:t.un,time:c.settings.maximumLocktime})))}return void 0}},maxlengthCommand:{command:"maxlength",rank:"manager",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){var i=t.message,o=i.substring(e.length+1);return isNaN(o)?API.sendChat(n(c.chat.invalidtime,{name:t.un})):(c.settings.maximumSongLength=o,API.sendChat(n(c.chat.maxlengthtime,{name:t.un,time:c.settings.maximumSongLength})))}return void 0}},motdCommand:{command:"motd",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length<=e.length+1)return API.sendChat("/me MotD: "+c.settings.motd);var o=i.substring(e.length+1);c.settings.motdEnabled||(c.settings.motdEnabled=!c.settings.motdEnabled),isNaN(o)?(c.settings.motd=o,API.sendChat(n(c.chat.motdset,{msg:c.settings.motd}))):(c.settings.motdInterval=o,API.sendChat(n(c.chat.motdintervalset,{interval:c.settings.motdInterval})))}},moveCommand:{command:"move",rank:"mod",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nouserspecified,{name:t.un}));var o,a,s=(i.indexOf(" "),i.lastIndexOf(" "));isNaN(parseInt(i.substring(s+1)))?(o=1,a=i.substring(e.length+2)):(o=parseInt(i.substring(s+1)),a=i.substring(e.length+2,s));var r=c.userUtilities.lookupUserName(a);return"boolean"==typeof r?API.sendChat(n(c.chat.invaliduserspecified,{name:t.un})):r.id===c.loggedInID?API.sendChat(n(c.chat.addbotwaitlist,{name:t.un})):isNaN(o)?API.sendChat(n(c.chat.invalidpositionspecified,{name:t.un})):(API.sendChat(n(c.chat.move,{name:t.un})),void c.userUtilities.moveUser(r.id,o,!1))}},muteCommand:{command:"mute",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nouserspecified,{name:t.un}));var o,a=i.lastIndexOf(" "),s=null;if(a===i.indexOf(" "))o=i.substring(e.length+2),s=45;else{if(s=i.substring(a+1),isNaN(s)||""==s||null==s||void 0===s)return API.sendChat(n(c.chat.invalidtime,{name:t.un}));o=i.substring(e.length+2,a)}var r=(t.un,c.userUtilities.lookupUserName(o));if("boolean"==typeof r)return API.sendChat(n(c.chat.invaliduserspecified,{name:t.un}));var u=c.userUtilities.getPermission(t.uid),m=c.userUtilities.getPermission(r.id);u>m?s>45?(API.sendChat(n(c.chat.mutedmaxtime,{name:t.un,time:"45"})),API.moderateMuteUser(r.id,1,API.MUTE.LONG)):45===s?(API.moderateMuteUser(r.id,1,API.MUTE.LONG),API.sendChat(n(c.chat.mutedtime,{name:t.un,username:o,time:s}))):s>30?(API.moderateMuteUser(r.id,1,API.MUTE.LONG),API.sendChat(n(c.chat.mutedtime,{name:t.un,username:o,time:s})),setTimeout(function(t){API.moderateUnmuteUser(t)},60*s*1e3,r.id)):s>15?(API.moderateMuteUser(r.id,1,API.MUTE.MEDIUM),API.sendChat(n(c.chat.mutedtime,{name:t.un,username:o,time:s})),setTimeout(function(t){API.moderateUnmuteUser(t)},60*s*1e3,r.id)):(API.moderateMuteUser(r.id,1,API.MUTE.SHORT),API.sendChat(n(c.chat.mutedtime,{name:t.un,username:o,time:s})),setTimeout(function(t){API.moderateUnmuteUser(t)},60*s*1e3,r.id)):API.sendChat(n(c.chat.muterank,{name:t.un}))}},opCommand:{command:"op",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)&&"string"==typeof c.settings.opLink?API.sendChat(n(c.chat.oplist,{link:c.settings.opLink})):void 0}},pingCommand:{command:"ping",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void API.sendChat(c.chat.pong):void 0}},refreshCommand:{command:"refresh",rank:"manager",type:"exact",functionality:function(t,n){return"exact"===this.type&&t.message.length!==n.length?void 0:c.commands.executable(this.rank,t)?(e(),c.disconnectAPI(),setTimeout(function(){window.location.reload(!1)},1e3),void 0):void 0}},reloadCommand:{command:"reload",rank:"bouncer",type:"exact",functionality:function(n,i){return"exact"===this.type&&n.message.length!==i.length?void 0:c.commands.executable(this.rank,n)?(API.sendChat(c.chat.reload),e(),c.disconnectAPI(),t(),setTimeout(function(){$.getScript(c.scriptLink)},2e3),void 0):void 0}},removeCommand:{command:"remove",rank:"mod",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length>e.length+2){var o=i.substr(e.length+2),a=c.userUtilities.lookupUserName(o);"boolean"!=typeof a?(a.lastDC={time:null,position:null,songCount:0},API.getDJ().id===a.id?(API.moderateForceSkip(),setTimeout(function(){API.moderateRemoveDJ(a.id)},1e3,a)):API.moderateRemoveDJ(a.id)):API.sendChat(n(c.chat.removenotinwl,{name:t.un,username:o}))}else API.sendChat(n(c.chat.nouserspecified,{name:t.un}))}},restrictetaCommand:{command:"restricteta",rank:"bouncer",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?c.settings.etaRestriction?(c.settings.etaRestriction=!c.settings.etaRestriction,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.etarestriction}))):(c.settings.etaRestriction=!c.settings.etaRestriction,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.etarestriction}))):void 0}},rouletteCommand:{command:"roulette",rank:"mod",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void(c.room.roulette.rouletteStatus||c.room.roulette.startRoulette()):void 0}},rulesCommand:{command:"rules",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)&&"string"==typeof c.settings.rulesLink?API.sendChat(n(c.chat.roomrules,{link:c.settings.rulesLink})):void 0}},sessionstatsCommand:{command:"sessionstats",rank:"bouncer",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.un,o=c.room.roomstats.totalWoots,a=c.room.roomstats.totalMehs,s=c.room.roomstats.totalCurates;API.sendChat(n(c.chat.sessionstats,{name:i,woots:o,mehs:a,grabs:s}))}},skipCommand:{command:"skip",rank:"bouncer",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?(API.sendChat(n(c.chat.skip,{name:t.un})),API.moderateForceSkip(),c.room.skippable=!1,setTimeout(function(){c.room.skippable=!0},5e3),void 0):void 0}},songstatsCommand:{command:"songstats",rank:"mod",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?c.settings.songstats?(c.settings.songstats=!c.settings.songstats,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.songstats}))):(c.settings.songstats=!c.settings.songstats,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.songstats}))):void 0}},sourceCommand:{command:"source",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void API.sendChat("/me This bot was created by "+r+", but is now maintained by "+u+"."):void 0}},statusCommand:{command:"status",rank:"bouncer",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){var i=t.un,o="/me [@"+i+"] ";o+=c.chat.afkremoval+": ",o+=c.settings.afkRemoval?"ON":"OFF",o+=". ",o+=c.chat.afksremoved+": "+c.room.afkList.length+". ",o+=c.chat.afklimit+": "+c.settings.maximumAfk+". ",o+="Bouncer+: ",o+=c.settings.bouncerPlus?"ON":"OFF",o+=". ",o+=c.chat.blacklist+": ",o+=c.settings.blacklistEnabled?"ON":"OFF",o+=". ",o+=c.chat.lockguard+": ",o+=c.settings.lockGuard?"ON":"OFF",o+=". ",o+=c.chat.cycleguard+": ",o+=c.settings.cycleGuard?"ON":"OFF",o+=". ",o+=c.chat.timeguard+": ",o+=c.settings.timeGuard?"ON":"OFF",o+=". ",o+=c.chat.chatfilter+": ",o+=c.settings.filterChat?"ON":"OFF",o+=". ",o+=c.chat.voteskip+": ",o+=c.settings.voteskip?"ON":"OFF",o+=". ";var a=c.room.roomstats.launchTime,s=Date.now()-a,r=c.roomUtilities.msToStr(s);return o+=n(c.chat.activefor,{time:r}),API.sendChat(o)}return void 0}},swapCommand:{command:"swap",rank:"mod",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nouserspecified,{name:t.un}));var o=(i.indexOf(" "),i.lastIndexOf(" ")),a=i.substring(e.length+2,o),s=i.substring(o+2),r=c.userUtilities.lookupUserName(a),u=c.userUtilities.lookupUserName(s);if("boolean"==typeof r||"boolean"==typeof u)return API.sendChat(n(c.chat.swapinvalid,{name:t.un}));if(r.id===c.loggedInID||u.id===c.loggedInID)return API.sendChat(n(c.chat.addbottowaitlist,{name:t.un}));var m=API.getWaitListPosition(r.id)+1,l=API.getWaitListPosition(u.id)+1;return 0>m||0>l?API.sendChat(n(c.chat.swapwlonly,{name:t.un})):(API.sendChat(n(c.chat.swapping,{name1:a,name2:s})),void(l>m?(c.userUtilities.moveUser(u.id,m,!1),setTimeout(function(t,e){c.userUtilities.moveUser(t.id,e,!1)},2e3,r,l)):(c.userUtilities.moveUser(r.id,l,!1),setTimeout(function(t,e){c.userUtilities.moveUser(t.id,e,!1)},2e3,u,m))))}},themeCommand:{command:"theme",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void("string"==typeof c.settings.themeLink&&API.sendChat(n(c.chat.genres,{link:c.settings.themeLink}))):void 0}},timeguardCommand:{command:"timeguard",rank:"bouncer",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?c.settings.timeGuard?(c.settings.timeGuard=!c.settings.timeGuard,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.timeguard}))):(c.settings.timeGuard=!c.settings.timeGuard,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.timeguard}))):void 0}},toggleblCommand:{command:"togglebl",rank:"bouncer",type:"exact",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){var i=c.settings.blacklistEnabled;return c.settings.blacklistEnabled=!i,API.sendChat(c.settings.blacklistEnabled?n(c.chat.toggleon,{name:t.un,"function":c.chat.blacklist}):n(c.chat.toggleoff,{name:t.un,"function":c.chat.blacklist}))}return void 0}},togglemotdCommand:{command:"togglemotd",rank:"bouncer",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void(c.settings.motdEnabled?(c.settings.motdEnabled=!c.settings.motdEnabled,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.motd}))):(c.settings.motdEnabled=!c.settings.motdEnabled,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.motd})))):void 0}},unbanCommand:{command:"unban",rank:"bouncer",type:"startsWith",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?($(".icon-population").click(),$(".icon-ban").click(),setTimeout(function(t){var i=t.message;if(i.length===e.length)return API.sendChat();for(var o=i.substring(e.length+2),a=API.getBannedUsers(),s=!1,r=null,u=0;u<a.length;u++){var m=a[u];m.username===o&&(r=m,s=!0)}return s?(API.moderateUnbanUser(r.id),console.log("Unbanned "+o),void setTimeout(function(){$(".icon-chat").click()},1e3)):($(".icon-chat").click(),API.sendChat(n(c.chat.notbanned,{name:t.un})))},1e3,t),void 0):void 0}},unlockCommand:{command:"unlock",rank:"mod",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void c.roomUtilities.booth.unlockBooth():void 0}},unmuteCommand:{command:"unmute",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message,o=c.userUtilities.getPermission(t.uid),a=(t.un,i.substr(e.length+2)),s=c.userUtilities.lookupUserName(a);if("boolean"==typeof s)return API.sendChat(n(c.chat.invaliduserspecified,{name:t.un}));var r=c.userUtilities.getPermission(s.id);if(o>r)try{API.moderateUnmuteUser(s.id),API.sendChat(n(c.chat.unmuted,{name:t.un,username:a}))}catch(u){API.sendChat(n(c.chat.notmuted,{name:t.un}))}else API.sendChat(n(c.chat.unmuterank,{name:t.un}))}},usercmdcdCommand:{command:"usercmdcd",rank:"manager",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(c.commands.executable(this.rank,t)){var i=t.message,o=i.substring(e.length+1);return isNaN(o)?API.sendChat(n(c.chat.invalidtime,{name:t.un})):(c.settings.commandCooldown=o,API.sendChat(n(c.chat.commandscd,{name:t.un,time:c.settings.commandCooldown})))}return void 0}},usercommandsCommand:{command:"usercommands",rank:"manager",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void(c.settings.usercommandsEnabled?(API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.usercommands})),c.settings.usercommandsEnabled=!c.settings.usercommandsEnabled):(API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.usercommands})),c.settings.usercommandsEnabled=!c.settings.usercommandsEnabled)):void 0}},voteratioCommand:{command:"voteratio",rank:"bouncer",type:"startsWith",functionality:function(t,e){if("exact"===this.type&&t.message.length!==e.length)return void 0;if(!c.commands.executable(this.rank,t))return void 0;var i=t.message;if(i.length===e.length)return API.sendChat(n(c.chat.nouserspecified,{name:t.un}));var o=i.substring(e.length+2),a=c.userUtilities.lookupUserName(o);if(a===!1)return API.sendChat(n(c.chat.invaliduserspecified,{name:t.un}));var s=a.votes,r=s.woot/s.meh;API.sendChat(n(c.chat.voteratio,{name:t.un,username:o,woot:s.woot,mehs:s.meh,ratio:r.toFixed(2)}))}},welcomeCommand:{command:"welcome",rank:"mod",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?c.settings.welcome?(c.settings.welcome=!c.settings.welcome,API.sendChat(n(c.chat.toggleoff,{name:t.un,"function":c.chat.welcomemsg}))):(c.settings.welcome=!c.settings.welcome,API.sendChat(n(c.chat.toggleon,{name:t.un,"function":c.chat.welcomemsg}))):void 0}},websiteCommand:{command:"website",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void("string"==typeof c.settings.website&&API.sendChat(n(c.chat.website,{link:c.settings.website}))):void 0}},youtubeCommand:{command:"youtube",rank:"user",type:"exact",functionality:function(t,e){return"exact"===this.type&&t.message.length!==e.length?void 0:c.commands.executable(this.rank,t)?void("string"==typeof c.settings.youtubeLink&&API.sendChat(n(c.chat.youtube,{name:t.un,link:c.settings.youtubeLink}))):void 0}}}};i(c.startup)}).call(this);